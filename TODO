implement https://github.com/chjj/slock
